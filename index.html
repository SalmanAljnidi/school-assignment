<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ุฅุณูุงุฏ ุงูุญุตุต ูููุฏุงุฑุณ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Tahoma;background:#0b1220;color:#fff;margin:0;padding:20px}
.card{background:#111a33;padding:15px;border-radius:12px;margin-bottom:15px}
input,select,button{padding:8px;border-radius:8px;border:none;width:100%;margin-top:5px}
button{background:#2a62ff;color:#fff;cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid #333;padding:8px;text-align:right}
.small{color:#aaa;font-size:12px}
</style>
</head>
<body>

<h2>๐ ูููุน ุฅุณูุงุฏ ุงูุญุตุต ุงูุชุนููููุฉ</h2>

<div class="card">
<h3>1๏ธโฃ ุงุฎุชูุงุฑ ุงููุฑุญูุฉ</h3>
<select id="stage">
  <option value="primary">ุงุจุชุฏุงุฆู</option>
  <option value="middle">ูุชูุณุท</option>
  <option value="secondary">ุซุงููู</option>
</select>
</div>

<div class="card">
<h3>2๏ธโฃ ุฅุถุงูุฉ ุงููุนูููู</h3>
<input id="name" placeholder="ุงุณู ุงููุนูู">
<select id="rank">
  <option value="24">ููุงุฑุณ (24 ุญุตุฉ)</option>
  <option value="22">ูุชูุฏู (22 ุญุตุฉ)</option>
  <option value="18">ุฎุจูุฑ (18 ุญุตุฉ)</option>
</select>
<select id="spec">
  <option>ุฑูุงุถูุงุช</option>
  <option>ุนููู</option>
  <option>ูุบุฉ ุนุฑุจูุฉ</option>
  <option>ูุบุฉ ุฅูุฌููุฒูุฉ</option>
  <option>ููุฒูุงุก</option>
  <option>ููููุงุก</option>
  <option>ุฃุญูุงุก</option>
  <option>ุชุฑุจูุฉ ุฅุณูุงููุฉ</option>
  <option>ุญุงุณุจ</option>
</select>
<button onclick="addTeacher()">โ ุฅุถุงูุฉ</button>

<div id="teachers"></div>
</div>

<div class="card">
<button onclick="assign()">โ๏ธ ุฅุณูุงุฏ ุงูุญุตุต</button>
</div>

<div class="card">
<h3>๐ ุงููุชุงุฆุฌ</h3>
<div id="results" class="small">ูู ูุชู ุงูุฅุณูุงุฏ ุจุนุฏ</div>
</div>

<div class="small">
ุชูููู: ูุฐู ุงูุญุณุจุฉ ุชูุฏูุฑูุฉ ูุชุญุชูู ุงูุตูุงุจ ูุงูุฎุทุฃุ ููุฏ ุชุฎุชูู ุงูููู ุงููุนููุฉ ุญุณุจ ุดุฑูุท ุฌูุฉ ุงูุชูููู.<br>
ุณููุงู ุงูุฌููุฏู
</div>

<script>
const teachers=[]
const subjects={
primary:{ุฑูุงุถูุงุช:6,ุนููู:3,"ูุบุฉ ุนุฑุจูุฉ":7,"ุชุฑุจูุฉ ุฅุณูุงููุฉ":4},
middle:{ุฑูุงุถูุงุช:6,ุนููู:4,"ูุบุฉ ุนุฑุจูุฉ":5,"ูุบุฉ ุฅูุฌููุฒูุฉ":4},
secondary:{ุฑูุงุถูุงุช:5,ููุฒูุงุก:2,ููููุงุก:2,ุฃุญูุงุก:2}
}

function addTeacher(){
const n=name.value
if(!n)return alert("ุงูุชุจ ุงูุงุณู")
teachers.push({name:n,limit:+rank.value,spec:spec.value,load:0})
renderTeachers()
name.value=""
}

function renderTeachers(){
teachersDiv=""
teachers.forEach(t=>{
teachersDiv+=`<div>๐ค ${t.name} โ ${t.spec} โ ${t.load}/${t.limit}</div>`
})
teachers.innerHTML=teachersDiv
}

function assign(){
teachers.forEach(t=>t.load=0)
const stage=document.getElementById("stage").value
const plan=subjects[stage]
let output=""

Object.keys(plan).forEach(sub=>{
let count=plan[sub]
for(let i=0;i<count;i++){
let candidates=teachers.filter(t=>t.spec==sub && t.load<t.limit)
if(candidates.length){
candidates.sort((a,b)=>(a.load/a.limit)-(b.load/b.limit))
candidates[0].load++
}
}
})

teachers.forEach(t=>{
output+=`<div>๐ค <b>${t.name}</b> โ ${t.load}/${t.limit}</div>`
})
results.innerHTML=output
renderTeachers()
}
</script>

</body>
</html>
