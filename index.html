<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ø¥Ø³Ù†Ø§Ø¯ Ø§Ù„Ø­ØµØµ (Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ/Ù…ØªÙˆØ³Ø·)</title>
<style>
:root {
  --bg:#ffffff; --card:#ffffff; --text:#111827; --muted:#6b7280;
  --line:#e5e7eb; --primary:#2563eb; --soft:#f3f4f6;
  --warn:#b45309; --danger:#b91c1c;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:Tahoma, Arial, sans-serif}
.container{max-width:1100px;margin:0 auto;padding:18px}
.header{display:flex;gap:14px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
.brand h1{margin:0;font-size:20px}
.brand p{margin:6px 0 0;color:var(--muted);font-size:13px;line-height:1.6}
.actions{display:flex;gap:10px;flex-wrap:wrap}
button{border:1px solid var(--line);background:var(--primary);color:#fff;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:700}
button.secondary{background:#fff;color:var(--text)}
button.ghost{background:var(--soft);color:var(--text)}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;margin-top:12px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:900px){.grid2{grid-template-columns:1fr}}
label{display:block;font-size:13px;color:var(--muted);margin-top:8px}
input,select{width:100%;padding:10px;border:1px solid var(--line);border-radius:10px;background:#fff;color:var(--text)}
small{color:var(--muted)}
hr{border:none;border-top:1px solid var(--line);margin:12px 0}
.pills{display:flex;gap:8px;flex-wrap:wrap}
.pill{display:flex;align-items:center;gap:8px;border:1px solid var(--line);background:var(--soft);padding:8px 10px;border-radius:999px;font-size:13px}
.pill input{width:auto}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;background:var(--soft);border:1px solid var(--line);color:var(--text)}
.badge.warn{color:var(--warn);border-color:#fed7aa;background:#fff7ed}
.badge.danger{color:var(--danger);border-color:#fecaca;background:#fff1f2}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{text-align:right;vertical-align:top;border-bottom:1px solid var(--line);padding:10px;font-size:13px}
th{background:var(--soft);font-weight:800}
.split{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
.kpi{display:flex;gap:8px;flex-wrap:wrap}

.signature{
  margin-top: 20px;
  text-align: center;
  font-family: "Segoe Script", "Brush Script MT", "Cairo", cursive;
  font-size: 22px;
  font-weight: 600;
  color: #111;
  letter-spacing: 1px;
}

@media print {
  .actions, .no-print {display:none !important}
  body{background:#fff}
  .card{border:1px solid #ddd}
  th{background:#f5f5f5 !important; -webkit-print-color-adjust:exact; print-color-adjust:exact}
  .signature{font-size:20px;color:#000}
}

/* Ø£Ø²Ø±Ø§Ø± ØªÙˆØ§ØµÙ„ Ø¹Ø§Ø¦Ù…Ø© */
.social-fab{
  position: fixed;
  left: 16px;
  bottom: 16px;
  display: flex;
  gap: 10px;
  z-index: 9999;
}
.fab-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #fff;
  color: #111827;
  text-decoration: none;
  font-weight: 800;
  font-size: 13px;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
}
.fab-btn:hover{ transform: translateY(-1px); }
.fab-btn.wa{ border-color:#bbf7d0; }
.fab-btn.snap{ border-color:#fde68a; }

</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="brand">
      <h1>ğŸ“š Ø¥Ø³Ù†Ø§Ø¯ Ø§Ù„Ø­ØµØµ â€” Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ/Ù…ØªÙˆØ³Ø· (Ø¹Ø§Ù…/ØªØ­ÙÙŠØ¸)</h1>
      <p>
        ØªØ¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„ÙØµÙˆÙ„ Ù„ÙƒÙ„ ØµÙ + Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† (Ø§Ù„Ø±ØªØ¨Ø©/Ø§Ù„ØªØ®ØµØµ) Ø«Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙˆØ²Ù‘Ø¹ Ø§Ù„Ø­ØµØµ Ø¨Ø§Ù„Ø¹Ø¯Ù„ Ù…Ø¹ Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù†ØµØ§Ø¨.<br/>
        <small>ØªØµÙ…ÙŠÙ… Ø£Ø¨ÙŠØ¶ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©.</small>
      </p>
    </div>
    <div class="actions no-print">
      <button class="secondary" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
      <button class="ghost" onclick="resetAll(true)">ğŸ”„ ØªØµÙÙŠØ±</button>
    </div>
  </div>

  <div class="card">
    <div class="split">
      <h2 style="margin:0;font-size:16px">1) Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬</h2>
      <div class="kpi" id="kpiTop"></div>
    </div>
    <div class="pills" id="programsBox"></div>
    <hr/>
    <h2 style="margin:0 0 8px;font-size:16px">2) Ø¹Ø¯Ø¯ Ø§Ù„ÙØµÙˆÙ„ Ù„ÙƒÙ„ ØµÙ</h2>
    <div id="sectionsBox"><small>Ø§Ø®ØªØ± Ø¨Ø±Ù†Ø§Ù…Ø¬Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙÙˆÙ.</small></div>
  </div>

  <div class="card">
    <h2 style="margin:0 0 8px;font-size:16px">3) Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</h2>
    <div class="grid2">
      <div>
        <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…</label>
        <input id="tName" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯"/>
      </div>
      <div>
        <label>Ø§Ù„Ø±ØªØ¨Ø© (Ø§Ù„Ù†ØµØ§Ø¨)</label>
        <select id="tRank">
          <option value="24">Ù…Ù…Ø§Ø±Ø³ â€” 24 Ø­ØµØ©</option>
          <option value="22">Ù…ØªÙ‚Ø¯Ù… â€” 22 Ø­ØµØ©</option>
          <option value="18">Ø®Ø¨ÙŠØ± â€” 18 Ø­ØµØ©</option>
        </select>
      </div>
    </div>

    <label>Ø§Ù„ØªØ®ØµØµ (Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© â€” Ù…Ø¹ Ø¨Ø­Ø«)</label>
    <input id="tSpec" list="specList" placeholder="Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù„Ù„Ø¨Ø­Ø«..."/>
    <datalist id="specList">
      <option value="Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©"></option><option value="Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©"></option><option value="Ø±ÙŠØ§Ø¶ÙŠØ§Øª"></option><option value="Ø¹Ù„ÙˆÙ…"></option><option value="ÙÙŠØ²ÙŠØ§Ø¡"></option><option value="ÙƒÙŠÙ…ÙŠØ§Ø¡"></option><option value="Ø£Ø­ÙŠØ§Ø¡"></option><option value="Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©"></option><option value="Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ"></option><option value="Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©"></option><option value="Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©"></option><option value="ØªØ§Ø±ÙŠØ®"></option><option value="Ø¬ØºØ±Ø§ÙÙŠØ§"></option><option value="Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©"></option><option value="Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©"></option><option value="Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ"></option><option value="Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ©"></option><option value="Ø¹Ù„Ù… Ù†ÙØ³ ÙˆØ§Ø¬ØªÙ…Ø§Ø¹"></option><option value="Ù…ÙƒØªØ¨Ø§Øª"></option><option value="Ø¥Ø¯Ø§Ø±Ø©"></option><option value="ØªØ±Ø¨ÙŠØ© Ø®Ø§ØµØ©"></option><option value="ØµØ¹ÙˆØ¨Ø§Øª ØªØ¹Ù„Ù…"></option><option value="ØªÙˆØ­Ø¯"></option><option value="Ø¥Ø¹Ø§Ù‚Ø© Ø³Ù…Ø¹ÙŠØ©"></option><option value="Ø¥Ø¹Ø§Ù‚Ø© Ø¨ØµØ±ÙŠØ©"></option><option value="ØªØ±Ø¨ÙŠØ© ÙÙƒØ±ÙŠØ©"></option><option value="ØªØ¯Ø±ÙŠØ¨Ø§Øª Ø³Ù„ÙˆÙƒÙŠØ©"></option><option value="ØªØ¯Ø±ÙŠØ¨Ø§Øª Ù†Ø·Ù‚"></option>
    </datalist>

    
    <div class="grid2" style="margin-top:10px">
      <div>
        <label>Ø§Ù„ØµÙ Ø§Ù„Ù…ÙØ¶Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <select id="tPref">
          <option value="">Ø¨Ø¯ÙˆÙ† ØªÙØ¶ÙŠÙ„</option>
          <optgroup label="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">
            <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ:1">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ 1</option>
            <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ:2">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ 2</option>
            <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ:3">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ 3</option>
            <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ:4">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ 4</option>
            <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ:5">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ 5</option>
            <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ:6">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ 6</option>
          </optgroup>
          <optgroup label="Ù…ØªÙˆØ³Ø·">
            <option value="Ù…ØªÙˆØ³Ø·:1">Ù…ØªÙˆØ³Ø· 1</option>
            <option value="Ù…ØªÙˆØ³Ø·:2">Ù…ØªÙˆØ³Ø· 2</option>
            <option value="Ù…ØªÙˆØ³Ø·:3">Ù…ØªÙˆØ³Ø· 3</option>
          </optgroup>
        </select>
      </div>
      <div>
        <label>Ù…Ù„Ø§Ø­Ø¸Ø©</label>
        <input value="Ø§Ù„ØªÙØ¶ÙŠÙ„ ØºÙŠØ± Ø¥Ù„Ø²Ø§Ù…ÙŠ ÙˆÙŠÙØ·Ø¨Ù‘Ù‚ Ø­Ø³Ø¨ Ø§Ù„Ø§Ø³ØªØ·Ø§Ø¹Ø©" disabled />
      </div>
    </div>

<div class="grid2 no-print">
      <button onclick="addTeacher()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù…</button>
      <button class="secondary" onclick="clearTeachers()">ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</button>
    </div>

    <div class="split" style="margin-top:10px">
      <label style="margin:0;color:var(--text)">
        <input type="checkbox" id="allowAlt" checked style="width:auto;vertical-align:middle;margin-left:6px"/>
        Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
      </label>
      <small>Ø¥Ø°Ø§ Ù…Ø§ ÙÙŠÙ‡ Ù…ØªØ®ØµØµ Ù…ØªØ§Ø­ØŒ ÙŠÙ†ØªÙ‚Ù„ Ù„Ù„Ø¨Ø¯Ø§Ø¦Ù„ Ø­Ø³Ø¨ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø³Ù†Ø§Ø¯.</small>
    </div>

    <div id="teachersBox" style="margin-top:10px"></div>
  </div>

  <div class="card no-print">
    <button onclick="assignAll()">âš–ï¸ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø³Ù†Ø§Ø¯</button>
  </div>

  <div class="card">
    <h2 style="margin:0 0 8px;font-size:16px">ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
    <div id="results"><small>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø³Ù†Ø§Ø¯ Ø¨Ø¹Ø¯.</small></div>
  </div>

  
</div>
  <div class="signature">Ø³Ù„Ù…Ø§Ù† Ø§Ù„Ø¬Ù†ÙŠØ¯ÙŠ</div>


<script>
const DATASET = {"Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ | Ø¹Ø§Ù…": {"1": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 8, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 5, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 3, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 3}, "2": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 7, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 3, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 3}, "3": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 6, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 3}, "4": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 2}, "5": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 2}, "6": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 2}}, "Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ | ØªØ­ÙÙŠØ¸": {"1": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 9, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 8, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 5, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 3, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 1}, "2": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 9, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 7, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 3, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 1}, "3": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 9, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 6, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 1}, "4": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 8, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": 1, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 0}, "5": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 8, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": 1, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 0}, "6": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 8, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": 1, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 3, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„Ù†Ø´Ø§Ø·": 0}}, "Ù…ØªÙˆØ³Ø· | Ø¹Ø§Ù…": {"1": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 3, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 4, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": 0, "Ø§Ù„Ù†Ø´Ø§Ø·": 1}, "2": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 3, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 4, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": 2, "Ø§Ù„Ù†Ø´Ø§Ø·": 1}, "3": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 5, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 4, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 4, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 2, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": 0, "Ø§Ù„Ù†Ø´Ø§Ø·": 1}}, "Ù…ØªÙˆØ³Ø· | ØªØ­ÙÙŠØ¸": {"1": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 8, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": 1, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 4, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 1, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": 0, "Ø§Ù„Ù†Ø´Ø§Ø·": 0}, "2": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 8, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": 1, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 5, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 4, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 1, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": 2, "Ø§Ù„Ù†Ø´Ø§Ø·": 0}, "3": {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": 7, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": 1, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": 4, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": 2, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": 6, "Ø§Ù„Ø¹Ù„ÙˆÙ…": 4, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": 4, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": 2, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": 1, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": 1, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": 1, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": 0, "Ø§Ù„Ù†Ø´Ø§Ø·": 0}}};
const SUBJECT_RULES = {"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©": {"main": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©"], "alt": ["Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", "Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ"]}, "Ø§Ù„ØªØ¬ÙˆÙŠØ¯": {"main": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©"], "alt": ["Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©"]}, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": {"main": ["Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©"], "alt": []}, "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": {"main": ["Ø±ÙŠØ§Ø¶ÙŠØ§Øª"], "alt": []}, "Ø§Ù„Ø¹Ù„ÙˆÙ…": {"main": ["Ø¹Ù„ÙˆÙ…"], "alt": ["Ø£Ø­ÙŠØ§Ø¡", "ÙƒÙŠÙ…ÙŠØ§Ø¡", "ÙÙŠØ²ÙŠØ§Ø¡"]}, "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": {"main": ["Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©"], "alt": []}, "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": {"main": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§"], "alt": ["Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", "Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ", "Ù…ÙƒØªØ¨Ø§Øª", "Ø¥Ø¯Ø§Ø±Ø©"]}, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©": {"main": ["Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ", "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©"], "alt": ["Ø±ÙŠØ§Ø¶ÙŠØ§Øª"]}, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©": {"main": ["Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©"], "alt": ["Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ"]}, "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³": {"main": ["Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©"], "alt": ["Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ", "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©"]}, "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±ÙŠØ©": {"main": ["Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ", "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ©"], "alt": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©"]}, "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯": {"main": ["Ø¹Ù„Ù… Ù†ÙØ³ ÙˆØ§Ø¬ØªÙ…Ø§Ø¹"], "alt": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", "Ù…ÙƒØªØ¨Ø§Øª", "Ø¥Ø¯Ø§Ø±Ø©"]}, "Ø§Ù„Ù†Ø´Ø§Ø·": {"main": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©"], "alt": ["Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", "Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©", "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø¹Ù„ÙˆÙ…", "ÙÙŠØ²ÙŠØ§Ø¡", "ÙƒÙŠÙ…ÙŠØ§Ø¡", "Ø£Ø­ÙŠØ§Ø¡", "Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", "Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ", "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", "ØªØ§Ø±ÙŠØ®", "Ø¬ØºØ±Ø§ÙÙŠØ§", "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©", "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©", "Ø§Ù‚ØªØµØ§Ø¯ Ù…Ù†Ø²Ù„ÙŠ", "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ©", "Ø¹Ù„Ù… Ù†ÙØ³ ÙˆØ§Ø¬ØªÙ…Ø§Ø¹", "Ù…ÙƒØªØ¨Ø§Øª", "Ø¥Ø¯Ø§Ø±Ø©", "ØªØ±Ø¨ÙŠØ© Ø®Ø§ØµØ©", "ØµØ¹ÙˆØ¨Ø§Øª ØªØ¹Ù„Ù…", "ØªÙˆØ­Ø¯", "Ø¥Ø¹Ø§Ù‚Ø© Ø³Ù…Ø¹ÙŠØ©", "Ø¥Ø¹Ø§Ù‚Ø© Ø¨ØµØ±ÙŠØ©", "ØªØ±Ø¨ÙŠØ© ÙÙƒØ±ÙŠØ©", "ØªØ¯Ø±ÙŠØ¨Ø§Øª Ø³Ù„ÙˆÙƒÙŠØ©", "ØªØ¯Ø±ÙŠØ¨Ø§Øª Ù†Ø·Ù‚"]}};
const PROGRAMS = Object.keys(DATASET);
const teachers = [];
const SEP = "Â§Â§"; // ÙØ§ØµÙ„ Ø¢Ù…Ù† (Ù„Ø£Ù† Ø§Ø³Ù… Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ­ØªÙˆÙŠ |)

const $ = (id)=>document.getElementById(id);
const esc = (s)=>String(s).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;");

const STORAGE_KEY = "sa-assignment-v1";

// ====== Ø­ÙØ¸/Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø­Ø§Ù„Ø© (Ø¨Ø¯ÙˆÙ† Ø­Ø³Ø§Ø¨) ======
function saveState(){
  try{
    const progs = selectedPrograms();
    const sections = {};
    for(const prog of progs){
      const gradesObj = DATASET[prog] || {};
      for(const grade of Object.keys(gradesObj)){
        const inp = document.getElementById(`sec_${hash(prog)}_${grade}`);
        if(!inp) continue;
        sections[`${prog}||${grade}`] = String(inp.value ?? "0");
      }
    }
    const state = {
      progs,
      sections,
      allowAlt: document.getElementById("allowAlt")?.checked ?? true,
      teachers: teachers.map(t => ({name:t.name, spec:t.spec, limit:t.limit, pref:t.pref||''}))
    };
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
  }catch(e){
    // ØªØ¬Ø§Ù‡Ù„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ®Ø²ÙŠÙ†
  }
}

function loadState(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(!raw) return;
    const st = JSON.parse(raw);

    // Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬
    if(Array.isArray(st.progs)){
      document.querySelectorAll(".progCB").forEach(cb=>{
        cb.checked = st.progs.includes(cb.value);
      });
    }

    renderSectionsInputs();

    // Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙØµÙˆÙ„
    if(st.sections && typeof st.sections === "object"){
      for(const [k,v] of Object.entries(st.sections)){
        const [prog, grade] = k.split("||");
        const inp = document.getElementById(`sec_${hash(prog)}_${grade}`);
        if(inp) inp.value = v;
      }
    }

    // Ø®ÙŠØ§Ø± Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„
    const allowAltEl = document.getElementById("allowAlt");
    if(allowAltEl && typeof st.allowAlt === "boolean"){
      allowAltEl.checked = st.allowAlt;
    }

    // Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†
    if(Array.isArray(st.teachers)){
      teachers.length = 0;
      for(const t of st.teachers){
        if(!t || !t.name || !t.spec || !t.limit) continue;
        teachers.push({name:String(t.name), spec:String(t.spec), limit:Number(t.limit), pref:String(t.pref||''), load:0, breakdown:new Map()});
      }
      renderTeachers();
    }

    renderTopKPI();
  }catch(e){
    // ØªØ¬Ø§Ù‡Ù„
  }
}

function clearSavedState(){
  try{ localStorage.removeItem(STORAGE_KEY); }catch(e){}
}


function renderPrograms(){
  const box = $("programsBox");
  box.innerHTML = PROGRAMS.map((k,i)=>`
    <label class="pill">
      <input type="checkbox" class="progCB" value="${esc(k)}" ${i===0?'checked':''} />
      <span>${esc(k)}</span>
    </label>
  `).join('');
  document.querySelectorAll(".progCB").forEach(cb=>cb.addEventListener("change", ()=>{renderSectionsInputs(); renderTopKPI();}));
}
function selectedPrograms(){ return [...document.querySelectorAll(".progCB:checked")].map(x=>x.value); }

function renderSectionsInputs(){
  const progs = selectedPrograms();
  const box = $("sectionsBox");
  if(progs.length===0){ box.innerHTML = "<small>Ø§Ø®ØªØ± Ø¨Ø±Ù†Ø§Ù…Ø¬Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙÙˆÙ.</small>"; return; }
  let html = `<div class="grid2">`;
  for(const prog of progs){
    const gradesObj = DATASET[prog];
    const grades = Object.keys(gradesObj).sort((a,b)=>Number(a)-Number(b));
    html += `<div class="card" style="margin:0;background:var(--soft)">
      <div class="split">
        <b>${esc(prog)}</b>
        <span class="badge">ØµÙÙˆÙ: ${grades.length}</span>
      </div>
      <table>
        <thead><tr><th>Ø§Ù„ØµÙ</th><th style="width:140px">Ø¹Ø¯Ø¯ Ø§Ù„ÙØµÙˆÙ„</th></tr></thead>
        <tbody>
          ${
            grades.map(g=>`
              <tr>
                <td>Ø§Ù„ØµÙ ${esc(g)}</td>
                <td><input id="sec_${hash(prog)}_${g}" type="number" min="0" value="1"/></td>
              </tr>
            `).join("")
          }
        </tbody>
      </table>
      <small>Ø¶Ø¹ 0 Ù„Ù„ØµÙ ØºÙŠØ± Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯.</small>
    </div>`;
  }
  html += `</div>`;
  box.innerHTML = html;
  // Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø¹Ø¯Ø¯ Ø§Ù„ÙØµÙˆÙ„
  box.querySelectorAll('input[id^="sec_"]').forEach(inp=>inp.addEventListener('input', saveState));
}

function hash(s){ let h=0; for(let i=0;i<s.length;i++) h=((h<<5)-h)+s.charCodeAt(i), h|=0; return Math.abs(h); }

function addTeacher(){
  const name = $("tName").value.trim();
  const spec = $("tSpec").value.trim();
  const limit = +$("tRank").value;
  if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…");
  if(!spec) return alert("Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©");
  const pref = document.getElementById('tPref')?.value || '';
  teachers.push({name, spec, limit, pref, load:0, breakdown:new Map()});
  $("tName").value=""; $("tSpec").value="";
  renderTeachers(); renderTopKPI();
  saveState();
}
function clearTeachers(){ teachers.length=0; renderTeachers(); renderTopKPI(); $("results").innerHTML="<small>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø³Ù†Ø§Ø¯ Ø¨Ø¹Ø¯.</small>";
  saveState(); }
function removeTeacher(i){ teachers.splice(i,1); renderTeachers(); renderTopKPI();
  saveState();
}

function renderTeachers(){
  const box = $("teachersBox");
  if(teachers.length===0){ box.innerHTML="<small>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¨Ø¹Ø¯.</small>"; return; }
  box.innerHTML = `
    <table>
      <thead><tr><th>Ø§Ù„Ù…Ø¹Ù„Ù…</th><th>Ø§Ù„ØªØ®ØµØµ</th><th>Ø§Ù„Ù†ØµØ§Ø¨</th><th class="no-print">Ø­Ø°Ù</th></tr></thead>
      <tbody>
        ${
          teachers.map((t,idx)=>`
            <tr>
              <td><b>${esc(t.name)}</b></td>
              <td>${esc(t.spec)}</td>
              <td><span class="badge">${t.load}/${t.limit}</span></td>
              <td class="no-print"><button class="secondary" style="padding:6px 10px" onclick="removeTeacher(${idx})">Ø­Ø°Ù</button></td>
            </tr>
          `).join("")
        }
      </tbody>
    </table>
  `;
}

function rulesForSubject(subj){ return SUBJECT_RULES[subj] || {main:[subj], alt:[]}; }
function eligibleTeachers(subj, allowAlt){
  const r = rulesForSubject(subj);
  const allowed = new Set([...(r.main||[]), ...(allowAlt ? (r.alt||[]) : [])]);
  return teachers.filter(t=>allowed.has(t.spec));
}

function generateUnits(){
  const progs = selectedPrograms();
  let units=[];
  for(const prog of progs){
    const gradesObj = DATASET[prog];
    for(const grade of Object.keys(gradesObj)){
      const inp = document.getElementById(`sec_${hash(prog)}_${grade}`);
      const sections = inp ? Math.max(0, +inp.value || 0) : 0;
      if(sections===0) continue;
      const subs = gradesObj[grade];
      for(const [subj,count] of Object.entries(subs)){
        const total = (count||0) * sections;
        for(let i=0;i<total;i++) units.push({prog, grade, subj});
      }
    }
  }
  return units;
}

function assignAll(){
  if(teachers.length===0) return alert("Ø£Ø¶Ù Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø£ÙˆÙ„Ø§Ù‹");
  const units = generateUnits();
  if(units.length===0) return alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­ØµØµ Ù„Ù„ØªÙˆØ²ÙŠØ¹. ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„ÙØµÙˆÙ„.");
  const allowAlt = $("allowAlt").checked;

  teachers.forEach(t=>{t.load=0; t.breakdown=new Map();});

  const cache = new Map();
  function eligibleCount(subj){ if(cache.has(subj)) return cache.get(subj); const c=eligibleTeachers(subj, allowAlt).length; cache.set(subj,c); return c; }
  units.sort((a,b)=> eligibleCount(a.subj)-eligibleCount(b.subj));

  let warnings=[]; let unassigned=[];
  for(const u of units){
    const r = rulesForSubject(u.subj);
    const mainSet = new Set(r.main||[]);
    const allowedSet = new Set([...(r.main||[]), ...(allowAlt ? (r.alt||[]) : [])]);

    let candidates = teachers.filter(t=>allowedSet.has(t.spec));
    if(candidates.length===0){
      if(allowAlt){ candidates=[...teachers]; warnings.push(`âš ï¸ Ø§Ø¶Ø·Ø±Ø§Ø± Ù„ØªÙƒÙ„ÙŠÙ ØºÙŠØ± Ù…Ø·Ø§Ø¨Ù‚: Ù…Ø§Ø¯Ø© ${u.subj} â€” ${u.prog} Ø§Ù„ØµÙ ${u.grade}`); }
      else { unassigned.push(u); continue; }
    }

    let within = candidates.filter(t=>t.load < t.limit);
    if(within.length===0) within = candidates;
    within.sort((a,b)=>{ const ra=a.load/a.limit, rb=b.load/b.limit; if(ra!==rb) return ra-rb; return a.load-b.load; });

    const chosen = within[0];
    chosen.load++;
    const key = `${u.prog}${SEP}${u.grade}${SEP}${u.subj}`;
    chosen.breakdown.set(key, (chosen.breakdown.get(key)||0)+1);

    if(mainSet.size && !mainSet.has(chosen.spec)) warnings.push(`Ø¨Ø¯ÙŠÙ„: ${chosen.name} (${chosen.spec}) â† ${u.subj} â€” ${u.prog} Ø§Ù„ØµÙ ${u.grade}`);
  }

  renderTeachers();
  renderResults(warnings, unassigned, units.length);
  renderTopKPI();
}

function renderResults(warnings, unassigned, totalUnits){
  let html = `
    <div class="kpi">
      <span class="badge">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­ØµØµ: ${totalUnits}</span>
      <span class="badge ${unassigned.length?'danger':''}">ØºÙŠØ± Ù…ØºØ·Ø§Ø©: ${unassigned.length}</span>
      <span class="badge ${warnings.length?'warn':''}">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª: ${warnings.length}</span>
    </div>
    <hr/>
  `;

  html += `<table>
    <thead><tr><th>Ø§Ù„Ù…Ø¹Ù„Ù…</th><th>Ø§Ù„ØªØ®ØµØµ</th><th>Ø§Ù„Ù†ØµØ§Ø¨</th><th>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø³Ù†Ø§Ø¯</th></tr></thead>
    <tbody>`;
  for(const t of teachers){
    const over = t.load > t.limit;
    const items = [...t.breakdown.entries()].map(([k,c])=>{ const [prog,grade,subj]=k.split(SEP); return {prog,grade,subj,c}; })
      .sort((a,b)=>a.prog.localeCompare(b.prog,'ar') || Number(a.grade)-Number(b.grade) || a.subj.localeCompare(b.subj,'ar'));
    const lines = items.map(it=>`â€¢ ${esc(it.subj)} â€” ${esc(it.prog)} Ø§Ù„ØµÙ ${esc(it.grade)} (${it.c})`).join("<br>") || "â€”";
    html += `<tr>
      <td><b>${esc(t.name)}</b></td>
      <td>${esc(t.spec)}</td>
      <td><span class="badge ${over?'danger':''}">${t.load}/${t.limit}</span></td>
      <td>${lines}</td>
    </tr>`;
  }
  html += `</tbody></table>`;

  if(warnings.length){
    html += `<hr/><div class="badge warn">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª (Ø¨Ø¯Ø§Ø¦Ù„/Ø¹Ø¯Ù… ØªØ·Ø§Ø¨Ù‚)</div><div style="margin-top:8px">`;
    for(const w of warnings.slice(0,200)) html += `<div style="margin:4px 0;color:var(--warn)">${esc(w)}</div>`;
    if(warnings.length>200) html += `<small>ØªÙ… Ø¹Ø±Ø¶ Ø£ÙˆÙ„ 200 ØªÙ†Ø¨ÙŠÙ‡ ÙÙ‚Ø·.</small>`;
    html += `</div>`;
  }

  if(unassigned.length){
    const map = new Map();
    for(const u of unassigned){ const k=`${u.prog}${SEP}${u.grade}${SEP}${u.subj}`; map.set(k,(map.get(k)||0)+1); }
    const items=[...map.entries()].map(([k,c])=>{ const [prog,grade,subj]=k.split(SEP); return {prog,grade,subj,c}; })
      .sort((a,b)=>a.prog.localeCompare(b.prog,'ar') || Number(a.grade)-Number(b.grade) || a.subj.localeCompare(b.subj,'ar'));
    html += `<hr/><div class="badge danger">Ø­ØµØµ ØºÙŠØ± Ù…ØºØ·Ø§Ø©</div><div style="margin-top:8px">`;
    for(const it of items) html += `<div style="margin:4px 0;color:var(--danger)">âŒ ${esc(it.subj)} â€” ${esc(it.prog)} Ø§Ù„ØµÙ ${esc(it.grade)}: ${it.c}</div>`;
    html += `</div>`;
  }

  $("results").innerHTML = html;
}

function renderTopKPI(){
  const box = $("kpiTop");
  box.innerHTML = `
    <span class="badge">Ø¨Ø±Ø§Ù…Ø¬ Ù…Ø®ØªØ§Ø±Ø©: ${selectedPrograms().length}</span>
    <span class="badge">Ù…Ø¹Ù„Ù…ÙŠÙ†: ${teachers.length}</span>
  `;
}

function resetAll(clearStored=false){
  if(clearStored){ clearSavedState(); }

  document.querySelectorAll(".progCB").forEach((cb,i)=>cb.checked = (i===0));
  renderSectionsInputs();
  clearTeachers();
  renderTopKPI();
  saveState();
}

renderPrograms();
renderSectionsInputs();
renderTeachers();
renderTopKPI();
// Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø®ÙŠØ§Ø± Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„
document.getElementById('allowAlt')?.addEventListener('change', saveState);
// ØªØ­Ù…ÙŠÙ„ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©
loadState();
// Ø§Ø­ÙØ¸ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙƒØ§Ø­ØªÙŠØ§Ø·
window.addEventListener('beforeunload', saveState);
</script>

<!-- Ø£Ø²Ø±Ø§Ø± ØªÙˆØ§ØµÙ„ -->
<div class="social-fab no-print">
  <a class="fab-btn wa" target="_blank" rel="noopener"
     href="https://wa.me/966566996166"
     title="ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">ÙˆØ§ØªØ³Ø§Ø¨</a>

  <a class="fab-btn snap" target="_blank" rel="noopener"
     href="https://snapchat.com/t/Os1PYre2"
     title="Ø³Ù†Ø§Ø¨ Ø´Ø§Øª">Ø³Ù†Ø§Ø¨</a>
</div>

</body>
</html>
